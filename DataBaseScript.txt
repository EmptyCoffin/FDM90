-- Create Database
USE [master]
GO

    CREATE DATABASE [FDM90] ON  PRIMARY 
    ( NAME = N'FDM90_Data', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL.1\MSSQL\Data\FDM90_Data.mdf' , SIZE = 167872KB , MAXSIZE = UNLIMITED, FILEGROWTH = 16384KB )
     LOG ON 
    ( NAME = N'FDM90_Log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL.1\MSSQL\Data\FDM90_Log.ldf' , SIZE = 2048KB , MAXSIZE = 2048GB , FILEGROWTH = 16384KB )
    GO

-- Create Tables
CREATE TABLE dbo.User (
	UserId uniqueidentifier NOT NULL PRIMARY KEY,
	UserName varchar(255) NOT NULL,
	Password varchar(MAX) NOT NULL,
	EmailAddress varchar(255) NOT NULL,
	Facebook bit NULL
)

CREATE TABLE dbo.Facebook (
	UserId uniqueidentifier NOT NULL PRIMARY KEY,
	PageName varchar(255) NOT NULL PRIMARY KEY,
	PermanentAccessToken varchar(MAX) NULL,
	CONSTRAINT FK_Facebook_User FOREIGN KEY (UserId) REFERENCES User(UserID)
)

CREATE TABLE dbo.Goals (
	UserId uniqueidentifier NOT NULL PRIMARY KEY,
	GoalName varchar(255) NOT NULL PRIMARY KEY,
	WeekStart int NOT NULL,
	WeekEnd int NOT NULL
	ExposureTarget varchar(MAX) NULL,
	InfluenceTarget varchar(MAX) NULL,
	CONSTRAINT FK_Goals_User FOREIGN KEY (UserId) REFERENCES User(UserID)
)